## [json-server](https://github.com/typicode/json-server)

### 1.全局安装

```shell
$ npm install -g json-server
```

### 2.创建`db.json`文件

```json
{
  "records": [
    {
      "id": "1",
      "date": "2018-05-17",
      "title": "title 1",
      "amount": 88
    },
    {
      "id": "2",
      "date": "2018-05-18",
      "title": "title 2",
      "amount": 23
    },
    {
      "id": "3",
      "date": "2018-05-19",
      "title": "title 3",
      "amount": 3
    },
    {
      "id": "4",
      "date": "2018-05-20",
      "title": "title 4",
      "amount": 8
    },
    {
      "id": "5",
      "date": "2018-05-21",
      "title": "title 5",
      "amount": 88
    }
  ]
}
```

### 3.开启服务并在指定端口更新

在`db.json`目录打开

```shell
json-server --watch db.json --port 3006
```

[![Snipaste_2019-10-16_12-52-05.png](https://camo.githubusercontent.com/69507673f6d324f06ab323aaa075c17083cf24c6/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a793665346f6c386a32306f673038656d78612e6a7067)](https://camo.githubusercontent.com/69507673f6d324f06ab323aaa075c17083cf24c6/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a793665346f6c386a32306f673038656d78612e6a7067)

### 4.get 获取数据

[![Snipaste_2019-10-16_12-53-24.png](https://camo.githubusercontent.com/665746c103bd33cadd80ab366a80459f32c52e46/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a79377274666d396a3230706f3067617133312e6a7067)](https://camo.githubusercontent.com/665746c103bd33cadd80ab366a80459f32c52e46/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a79377274666d396a3230706f3067617133312e6a7067)

**根据`id`获取单个详情数据**

[![Snipaste_2019-10-16_12-57-48.png](https://camo.githubusercontent.com/313e26376e2ecc861cf8a6827f8bb794950fc9d4/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a796365356230626a323063683034356a72392e6a7067)](https://camo.githubusercontent.com/313e26376e2ecc861cf8a6827f8bb794950fc9d4/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a796365356230626a323063683034356a72392e6a7067)

> 或者 `http://localhost:3000/records?id=1`

过滤功能：

[![Snipaste_2019-10-16_12-59-18.png](https://camo.githubusercontent.com/2c2f3f34cd16b85d6b96a06d8248abc10c61a047/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a796477636c67696a3230676d3035326a72612e6a7067)](https://camo.githubusercontent.com/2c2f3f34cd16b85d6b96a06d8248abc10c61a047/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a796477636c67696a3230676d3035326a72612e6a7067)

> 使用 `.`更可以访问深层属性，如：`GET /posts?id=1&id=2` `GET /comments?author.name=typicode`

分页展示功能：

[![Snipaste_2019-10-16_13-23-23.png](https://camo.githubusercontent.com/977bc162ea706b0ad78a866f4459fab0f7916515/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a7a327a6d6563656a32306861306177676c6d2e6a7067)](https://camo.githubusercontent.com/977bc162ea706b0ad78a866f4459fab0f7916515/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a7a327a6d6563656a32306861306177676c6d2e6a7067)

### 5.put 更新数据

**准备更新**  
[![Snipaste_2019-10-16_13-14-28.png](https://camo.githubusercontent.com/17a05a9ce52bb8165b2e5a6893acff08c35d0447/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a79753777756a666a323138613064646a72702e6a7067)](https://camo.githubusercontent.com/17a05a9ce52bb8165b2e5a6893acff08c35d0447/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a79753777756a666a323138613064646a72702e6a7067)

发送请求,**send**  
[![Snipaste_2019-10-16_13-15-37.png](https://camo.githubusercontent.com/fcffdf112ad11470816cd4f519c19f4cb6c04777/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a797575726535656a32306c62306664676c6f2e6a7067)](https://camo.githubusercontent.com/fcffdf112ad11470816cd4f519c19f4cb6c04777/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a797575726535656a32306c62306664676c6f2e6a7067)

> 注意：这里是全量更新替换

### 6.post 添加数据

**准备添加**  
[![Snipaste_2019-10-16_13-03-45.png](https://camo.githubusercontent.com/0e1c8abe94df7189a58b3fdda72f3312d2756fb8/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a79696b6e7833616a3231386f3064686a72752e6a7067)](https://camo.githubusercontent.com/0e1c8abe94df7189a58b3fdda72f3312d2756fb8/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a79696b6e7833616a3231386f3064686a72752e6a7067)

发送请求,**send**

[![Snipaste_2019-10-16_13-07-11.png](https://camo.githubusercontent.com/e7a2c595add2347c7e8f33ced16606c85d09df98/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a796d3362696d316a3230733030697a3073772e6a7067)](https://camo.githubusercontent.com/e7a2c595add2347c7e8f33ced16606c85d09df98/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a796d3362696d316a3230733030697a3073772e6a7067)

### 7.delete 删除数据

**准备删除**

[![Snipaste_2019-10-16_13-10-22.png](https://camo.githubusercontent.com/f6f51da3089c580f9e436a7766c1e6858f9f0153/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a797066313935366a323138643064376161632e6a7067)](https://camo.githubusercontent.com/f6f51da3089c580f9e436a7766c1e6858f9f0153/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a797066313935366a323138643064376161632e6a7067)

发送`delete`请求,**send**

[![Snipaste_2019-10-16_13-11-47.png](https://camo.githubusercontent.com/19a2de9fb81521c62325509fab4d7f8c9d5bded4/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a797179396e76756a323070383067326d78392e6a7067)](https://camo.githubusercontent.com/19a2de9fb81521c62325509fab4d7f8c9d5bded4/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f64663535316561356c793167377a797179396e76756a323070383067326d78392e6a7067)

## [mockapi](https://www.mockapi.io)

-   [官方说明文档](https://www.mockapi.io/docs)

使用方法与上 `json-server`相似，这里不再赘述...

## useful links

-   [http://www.mockapi.io/](http://www.mockapi.io/)
-   [https://github.com/typicode/json-server](https://github.com/typicode/json-server)
-   [https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch\_API/Using\_Fetch](https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch)
-   [https://github.com/github/fetch](https://github.com/github/fetch)
-   [https://github.com/matthew-andrews/isomorphic-fetch](https://github.com/matthew-andrews/isomorphic-fetch)
-   [https://github.com/mdn/fetch-examples](https://github.com/mdn/fetch-examples)

##### 参考链接

-   [react 基础实践篇-小型财务系统 #3 前端模拟 API 数据的两种方式](https://www.rails365.net/movies/react-ji-chu-shi-jian-pian-xiao-xing-cai-wu-xi-tong-3-qian-duan-mo-ni-api-shu-ju-de-liang-zhong-fang-shi)